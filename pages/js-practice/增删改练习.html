<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>练习</title>
		<style>
			#employeeTable{
				margin:30px auto;
				border-collapse: collapse;
			}
			#employeeTable th,#employeeTable td{
				border: 1px solid black;
				margin: 0;
			}
			#formDiv{
				width: 300px;
				margin:30px auto;
				border: 1px black solid;
			}
			
			.inp input{
				
				width: 150px;
			}
		</style>
		<script type="text/javascript">
			window.onload=function(){
				
				var allA=document.getElementsByTagName("a");
				for(var i=0;i<allA.length;i++){
					allA[i].onclick=function(){
						//allA是当前超链接，要删除的tr属于其爷爷标签
						var tr = this.parentNode.parentNode;
						var name=tr.children[0].innerHTML;
						var flag = confirm("确认删除"+name+"的资料吗");
						if(flag){
							 tr.parentNode.removeChild(tr);
						}
						
					}
				}
				
				var addEmpButton = document.getElementById("addEmpButton");
				addEmpButton.onclick=function(){
					//获取员工信息
					var name = document.getElementById("empName").value;
					var email = document.getElementById("email").value;
					var salary = document.getElementById("salary").value;
					var a = document.createElement("a");
					//创建一个tr与四个td用于存储信息
					var tr =document.createElement("tr");
					var nameTd =document.createElement("td");
					var emailTd =document.createElement("td");
					var salaryTd =document.createElement("td");
					var aTd =document.createElement("td");
					
					//创建文本节点
					//console.log(typeof name);
					var nameText = document.createTextNode(name);
					//console.log(nameText);
					var emailText = document.createTextNode(email);
					var salaryText = document.createTextNode(salary);
					var aText = document.createTextNode("delete");
					a.href = "javascript:;";
					
					
					//添加文本节点到对应的td节点中
					nameTd.appendChild(nameText);
					emailTd.appendChild(emailText);
					salaryTd.appendChild(salaryText);
					//向a中添加文本
					a.appendChild(aText);
					//将a添加到对应的td节点
					aTd.appendChild(a);
					
					//将td添加到tr中
					tr.appendChild(nameTd);
					tr.appendChild(emailTd);
					tr.appendChild(salaryTd);
					tr.appendChild(aTd);
					
					//将tr添加到table中
					var employeeTable =document.getElementById("employeeTable")
					//获取employeeTable中的tbody
					var tbody = employeeTable.getElementsByTagName("tbody")[0];
					//将tr添加到tbodye中
					tbody.appendChild(tr);
				}
				
				
			}
		</script>
	</head>
	<body>
		<table id="employeeTable">
			<tr>
				<th class="tags">Name</th>
				<th class="tags">Email</th>
				<th class="tags">Salary</th>
				<th>&nbsp;</th>
			</tr>
			<tr>
				<td>Tom</td>
				<td>tom@163.com</td>
				<td>10000</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
			<tr>
				<td>Jerry</td>
				<td>jerry@163.com</td>
				<td>8000</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
			<tr>
				<td>Bob</td>
				<td>bob@163.com</td>
				<td>5000</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
		</table>
		
		<div id="formDiv">
			<h4>添加新员工</h4>
			<table>
				<tr>
					<td class="word">Name</td>
					<td class="inp">
						<input type="text" name="empName" id="empName" value="555"/>
					</td>
				</tr>
				<tr>
					<td class="word">email</td>
					<td class="inp">
						<input type="text" name="email" id="email" />
					</td>
				</tr>
				<tr>
					<td class="word">salary</td>
					<td class="inp">
						<input type="text" name="salary" id="salary" />
					</td>
				</tr>
				<th>
					<td colspan="2" align="center">
						<button type="button" id="addEmpButton" value="abc">
							Submit
						</button>
					</td>
				</th>
			</table>
		</div>
	</body>
</html>
