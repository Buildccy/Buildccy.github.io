<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>练习3.0</title>
		<style>
			#employeeTable{
				margin:30px auto;
				border-collapse: collapse;
			}
			#employeeTable th,#employeeTable td{
				border: 1px solid black;
				margin: 0;
			}
			#formDiv{
				width: 300px;
				margin:30px auto;
				border: 1px black solid;
			}
			
			.inp input{
				
				width: 150px;
			}
		</style>
		<script type="text/javascript">
			function del() {
				//allA是当前超链接，要删除的tr属于其爷爷标签
				var tr = this.parentNode.parentNode;
				var name = tr.children[0].innerHTML;
				var flag = confirm("确认删除" + name + "的资料吗");
				if (flag) {
					tr.parentNode.removeChild(tr);
				}
				//return false用于取消点击超链接后默认跳转页面的动作
				return false;
			}

			window.onload = function() {

				var allA = document.getElementsByTagName("a");
				for (var i = 0; i < allA.length; i++) {
					allA[i].onclick = del;
				}


				//添加员工功能
				var addEmpButton = document.getElementById("addEmpButton");
				addEmpButton.onclick = function() {
					//获取员工信息
					var name = document.getElementById("empName").value;
					var email = document.getElementById("email").value;
					var salary = document.getElementById("salary").value;

					//创建一个tr
					var tr = document.createElement("tr");

					tr.innerHTML = "<td>" + name + "</td>" +
						"<td>" + email + "</td>" +
						"<td>" + salary + "</td>" +
						"<td><a href='javascript:;'>delete</a></td>";

					var a = tr.getElementsByTagName("a")[0];

					a.onclick = del;

					//将tr添加到table中
					var employeeTable = document.getElementById("employeeTable");
					//获取employeeTable中的tbody
					//var tBody = employeeTable.getElementsByTagName("tbody");
					//console.log(tBody);tbody是一个长度为1的数组，在创建table时由系统自动生成，所有tr都在tbody之内
					var tbody = employeeTable.getElementsByTagName("tbody")[0];
					//将tr添加到tbodye中
					tbody.appendChild(tr);
				}


			}
		</script>
	</head>
	<body>
		<table id="employeeTable">
			<tr>
				<th class="tags">Name</th>
				<th class="tags">Email</th>
				<th class="tags">Salary</th>
				<th>&nbsp;</th>
			</tr>
			<tr>
				<td>Tom</td>
				<td>tom@163.com</td>
				<td>10000</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
			<tr>
				<td>Jerry</td>
				<td>jerry@163.com</td>
				<td>8000</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
			<tr>
				<td>Bob</td>
				<td>bob@163.com</td>
				<td>5000</td>
				<td><a href="javascript:;">delete</a></td>
			</tr>
		</table>

		<div id="formDiv">
			<h4>添加新员工</h4>
			<table>
				<tr>
					<td class="word">Name</td>
					<td class="inp">
						<input type="text" name="empName" id="empName" value="人名" />
					</td>
				</tr>
				<tr>
					<td class="word">email</td>
					<td class="inp">
						<input type="text" name="email" id="email" value="邮址"/>
					</td>
				</tr>
				<tr>
					<td class="word">salary</td>
					<td class="inp">
						<input type="text" name="salary" id="salary" value="工资"/>
					</td>
				</tr>
				<th>
				<td colspan="2" align="center">
					<button type="button" id="addEmpButton" value="abc">
						Submit
					</button>
				</td>
				</th>
			</table>
		</div>
	</body>
</html>
